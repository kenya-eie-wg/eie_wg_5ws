"0","standard_cleaning <- function(tbl) {"
"0","  "
"0","  tbl %>% "
"0","   mutate(county = recode(county, "
"0","                            ""Tana_River"" = ""Tana River"", "
"0","                            ""Homa_Bay"" = ""Homa Bay"", "
"0","                            ""Home Bay"" = ""Homa Bay"", "
"0","                            ""West_Pokot"" = ""West Pokot"", "
"0","                            ""Taita_Taveta"" = ""Taita Taveta"")) %>% "
"0","    left_join(locations %>% "
"0","                distinct(adm1_en, adm1_pcode),"
"0","               by = c(""county"" = ""adm1_en"")) %>% "
"0","  mutate(indicator = case_when("
"0","    str_detect(indicator, ""youth accessing ECD spaces/schools"") ~ paste0(""indicator 1 "", indicator), "
"0","    str_detect(indicator, ""feeding programmes"") ~ paste0(""indicator 2 "", indicator), "
"0","    str_detect(indicator, ""teaching materials"") ~ paste0(""indicator 3 "", indicator), "
"0","    str_detect(indicator, ""hygiene"") ~ paste0(""indicator 4 "", indicator), "
"0","    str_detect(indicator, ""educators trained on resilience"") ~ paste0(""indicator 5 "", indicator), "
"0","    str_detect(indicator, ""youth benefiting from resilience"") ~ paste0(""indicator 6 "", indicator), "
"0","    str_detect(indicator, ""teachers trained on any programme"") ~ paste0(""indicator 5.1 "", indicator), "
"0","    str_detect(indicator, ""BoM trained on any programme"") ~ paste0(""indicator 5.2 "", indicator), "
"0","    str_detect(indicator, ""government officials trained on any programme"") ~ paste0(""indicator 5.3 "", indicator), "
"0","    str_detect(indicator, ""benefitting from child-friendly environment"") ~ paste0(""indicator 7 "", indicator), "
"0","    TRUE ~ indicator"
"0","  )) %>% "
"0","    mutate(month = fct_relevel(month, c(""January"", ""February"", ""March"", ""April"", "
"0","                                        ""May"", ""June"", ""July"", ""August"", "
"0","                                        ""September"", ""October"", ""November"", ""December""))) %>%"
"0","    mutate_at(vars(implementing_partner, lead_organisation), ~ str_trim(str_squish(.))) %>% "
"0","    mutate_at(vars(implementing_partner, lead_organisation), ~"
"0","                case_when("
"0","                  str_detect(., ""AVSI"") ~ ""AVSI Foundation"","
"0","                  str_detect(., ""Action for sustainable change|Action for Sustainable change"") ~ "
"0","                    ""Action for Sustainable Change"","
"0","                  str_detect(., ""FCA|FINN|Finn"") ~ ""Finn Church Aid"","
"0","                  # May be a problem if LISP is paired with another implementing partner"
"0","                  str_detect("
"0","                    ., ""LIFESKILL|Life skills|Lifeskills|LifeSkills|LISP|LISFESKILLS PROMOTERS|LIFESKIILS PROMOTERS"") ~"
"0","                    ""Lifeskills Promoters"","
"0","                  str_detect(., ""ChildFund|Childfund"") ~ ""ChildFund Kenya"", "
"0","                  str_detect(., ""Missionary Sistrs of the catechism|Missionary sisters of the catechism"") "
"0","                  ~ ""Missionary Sisters of the Catechism"","
"0","                  str_detect(., ""NRC|NORWEGIAN"") ~ ""Norwegian Refugee Council"","
"0","                  str_detect(., ""SCI|Save the Children"") ~ ""Save the Children"","
"0","                  str_detect(., ""World Vision|World vision|WVK BAMBA AP"") ~ ""World Vision Kenya"","
"0","                  str_detect(., ""Nawiri Children Program"") ~ ""Nawiri Children Development Program"","
"0","                  str_detect(., ""ERIKs development Partner"") ~ ""ERIKs Development Partner"","
"0","                  str_detect(., ""Servants of the poor"") ~ ""Servants of the Poor"","
"0","                  str_detect(., ""Evangelizing sisters of mary|ESM"") ~ ""Evangelizing Sisters of Mary"","
"0","                  str_detect(., ""Voluntary Service Overseas|VSO"") ~ ""Voluntary Service Overseas"", "
"0","                  str_detect(., ""Homa Bay Counties"") ~ ""Homa Bay County"", "
"0","                  str_detect(., ""WERK"") ~ ""Women Educational Researchers of Kenya"","
"0","                  str_detect(., ""Women Educational Researchers of Kenya,"") ~ ""Women Educational Researchers of Kenya"","
"0","                  str_detect(., ""The Girl Child Network \\(GCN\\)"") ~ ""The Girl Child Network"", "
"0","                  str_detect(., ""FHK|FH Kenya"") ~ ""Food for the Hungry"","
"0","                  str_detect(., ""Futebol da Forcaa"") ~ ""Futebol da Forcaa"", "
"0","                  str_detect(., ""Edukans and SHERP Samburu"") ~ ""Edukans"", "
"0","                  str_detect(., ""Feed The Children"") ~ ""Feed the Children"", "
"0","                  . == ""MOE"" ~ ""Ministry of Education"", "
"0","                  . == ""County Director of Education Wajir County"" ~ ""County Director of Education Wajir"", "
"0","                  . == ""CDE Wajir"" ~ ""County Director of Education Wajir"","
"0","                  . == ""CDE Mandera"" ~ ""County Director of Education Mandera"", "
"0","                  . == ""CDE Marsabit""  ~ ""County Director of Education Marsabit"", "
"0","                  . == ""Girl Child Network"" ~ ""The Girl Child Network"", "
"0","                  . == ""SC"" ~ ""Save the Children"","
"0","                  . == ""County Director Education"" & county == ""Mandera"" ~ ""County Director of Education Mandera"", "
"0","                  . == ""Frontiers Community Development Program"" ~ ""Frontiers Community Development Organization"", "
"0","                  . == ""Frontied Community Development Organization"" ~ "
"0","                    ""Frontiers Community Development Organization"", "
"0","                  . == ""Women Education Researchers of Kenya"" ~ ""Women Educational Researchers of Kenya"", "
"0","                  . == ""KENYA NATIONAL COMMISSION FOR UNESCO|Kenya National Commission for UNESCO"" ~ ""UNESCO"","
"0","                  . == ""Windle International Kenya"" ~ ""Windle International"", "
"0","                  TRUE ~ ."
"0","                ))%>% "
"0","    # Think about how you want to resolve the disaggregation issues "
"0","    mutate(indicator = ifelse("
"0","      !is.na(boys) & str_detect(activity, ""Training of children""),"
"0","        ""indicator 6 # of children and youth benefiting from resilience enhancing programmes (MHPSS, DRR & Life Skills, etc)"", indicator)) %>%"
"0","     mutate(indicator_short = case_when("
"0","    indicator == ""indicator 1 # of children and youth accessing ECD spaces/schools in drought affected areas"" ~ "
"0","      ""1. Access ECD spaces/schools"", "
"0","    indicator == ""indicator 2 # of schools/ECD spaces with feeding programmes"" ~ "
"0","      ""2. Feeding programmes"", "
"0","    # Not sure what's wrong with the text of this indicator"
"0","    str_detect(indicator, ""3"") ~ ""3. Teaching materials"", "
"0","    indicator == ""indicator 4 # of schools with adequate quantites of safe water for drinking and personal hygiene"" ~ "
"0","      ""4. Safe water, personal hygiene"", "
"0","    indicator == ""indicator 5 # of teachers / educators trained on resilience enhancing programmes (MHPSS, DRR & Life Skills, etc)"" ~ "
"0","      ""5. Educators resilience enhancing"", "
"0","    indicator == ""indicator 6 # of children and youth benefiting from resilience enhancing programmes (MHPSS, DRR & Life Skills, etc)"" ~ "
"0","      ""6. Children resilience enhancing"""
"0","  )) %>% "
"0","    filter(!is.na(county) & total_reached > 0) %>% "
"0","    mutate(sector_reached = ifelse(str_detect(indicator_short, ""1|2|5|6""), "
"0","                                 total_reached, "
"0","                                 0)) "
"0","}"
