"0","  "
"0","  "
"0","clean_messy_table <- function(tbl) {"
"0","  tbl %>% "
"0","    setNames(messy) %>% "
"0","    slice(10:284) %>% "
"0","    mutate(county = ifelse(str_detect(month, ""\\.""), "
"0","                           month, "
"0","                           NA_character_), "
"0","           county = gsub(""[[:punct:]]|[[:digit:]]"", """", county), "
"0","           county = case_when("
"0","             str_detect(county, ""Garissa"") ~ ""Garissa"", "
"0","             str_detect(county, ""Turkana"") ~ ""Turkana"","
"0","             str_detect(county, ""Homa"") ~ ""Homa Bay"", "
"0","             TRUE ~ county)) %>% "
"0","     fill(county) %>% "
"0","     filter(month %in% c(""Jan"", ""Feb"", ""Mar"", ""Apr"", ""May"", ""Jun"")) %>% "
"0","     # Keeping these empty columns to align with the original format"
"0","     select(-contains(""x"")) %>%"
"0","     pivot_longer(cols = indicator1_all_total_children:indicator7_narrative, "
"0","                 names_to = ""indicator"", "
"0","                 values_to = ""value"") %>% "
"0","    mutate(month = recode(month, "
"0","                          ""Jan"" = ""January"", "
"0","                            ""Feb"" = ""February"", "
"0","                            ""Mar"" = ""March"", "
"0","                            ""Apr"" = ""April"", "
"0","                            ""May"" = ""May"", "
"0","                            ""Jun"" = ""June"")) %>% "
"0","     mutate(month = fct_relevel(month, c(""January"", ""February"", ""March"", "
"0","                                           ""April"", ""May"", ""June"")), "
"0","     char_value = as.character(value), "
"0","     value = as.numeric(value)) "
"0","     #naniar::replace_with_na(replace = list(value = 0)) %>% "
"0","     #filter(!is.na(value)) "
"0","}"
"0","  "
"0",""
