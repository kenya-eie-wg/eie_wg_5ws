"0","targets <- read_excel(""./data/5Ws_2023/Consolidated 5W_ Education_Mar 2023 Report.xlsx"", "
"0","           sheet = ""Reach by Indicator"", "
"0","           skip = 1) %>% "
"0","  clean_names() %>% "
"0","  select(x1, x2, "
"0","         contains(""target"")) %>% "
"0","  setNames(c(""county"", "
"0","           ""county_overall_target"", "
"0","           ""indicator1_target_people"", "
"0","           ""indicator2_target"", "
"0","           ""indicator3_target_people"", "
"0","           ""indicator4_target"", "
"0","           ""indicator5_target_people"", "
"0","           ""indicator6_target_people"")) %>% "
"0","  slice(0:23) %>% "
"0","  separate(indicator2_target, into = c(""indicator2_target_schools"", ""indicator2_target_people""), sep = ""\\("") %>%"
"0","  separate(indicator4_target, into = c(""indicator4_target_schools"", ""indicator4_target_people""), sep = ""\\("") %>%"
"0","  mutate_at(vars(indicator2_target_schools, "
"0","                 indicator2_target_people, "
"0","                 indicator4_target_schools, "
"0","                 indicator4_target_people), "
"0","            ~ parse_number(.)) %>% "
"0","  pivot_longer(cols = indicator1_target_people:indicator6_target_people, "
"0","               names_to = ""type"", "
"0","               values_to = ""county_target"") %>% "
"0","  replace_na(list(county_target = 0)) %>% "
"0","  mutate(indicator_number = parse_number(type), "
"0","         indicator = case_when("
"0","           str_detect(type, ""1"") ~ ""number of children and youth accessing ECD spaces/schools in drought-affected areas"", "
"0","           str_detect(type, ""2"") ~ ""number of schools/ECD spaces with feeding programmes"", "
"0","           str_detect(type, ""3"") ~ ""number of learners and teachers with learning and teaching materials"", "
"0","           str_detect(type, ""4"") ~ ""number of schools with adequate quantities of safe water for drinking and personal hygiene"", "
"0","           str_detect(type, ""5"") ~ ""number of teachers/educaotrs trained on resilience-enhancing programmes"", "
"0","           str_detect(type, ""6"") ~ ""number of children and youth benefiting from resiliece-enhancing programmes"")) %>% "
"0","  mutate(target_unit = str_sub(type, start = 19L)) %>% "
"0","  select(county, indicator_number, indicator, county_target, target_unit, county_overall_target) %>% "
"0","  mutate(indicator_short = case_when("
"0","    "
"0","    indicator_number == 1 ~ "
"0","      ""1. Access ECD spaces/schools"", "
"0","    indicator_number == 2 ~ "
"0","      ""2. Feeding programmes"", "
"0","    # Not sure what's wrong with the text of this indicator"
"0","    str_detect(indicator, ""teaching materials"") ~ ""3. Teaching materials"", "
"0","    indicator_number == 4 ~ "
"0","      ""4. Safe water, personal hygiene"", "
"0","    indicator_number == 5 ~ "
"0","      ""5. Educators resilience enhancing"", "
"0","    indicator_number == 6 ~ "
"0","      ""6. Children resilience enhancing"""
"0","  )) %>%    "
"0","  mutate(county = recode(county, "
"0","                         ""Tharaka Nithi"" = ""Tharaka-Nithi"")) %>% "
"0","  left_join(locations %>% "
"0","                distinct(adm1_en, adm1_pcode),"
"0","               by = c(""county"" = ""adm1_en""))  "
"1","[1m[33mError[39m[22m in [36mâ€¢[39m `ansi_strwrap(text, exdent = exdent, width = app$get_width(extra = padding))`:
"
"1","[33m![39m [38;5;232mInternal error in `]8;;ide:help:cli::ansi_strwrapcli::ansi_strwrap]8;;()`[39m
"
"1","---
"
"1","Backtrace:
"
"1","[90m 1. [39mread_excel(""./data/5Ws_2023/Consolidated 5W_ Education_Mar 2023 Report.xlâ€¦
"
"1","[90m 2. [39mdplyr::]8;;ide:help:dplyr::left_join[1mleft_join[22m]8;;[38;5;103m([39m., locations [38;5;103m%>%[39m ]8;;ide:help:dplyr::distinct[1mdistinct[22m]8;;[33m([39madm1_en, adm1_pcode[33m)[39m, by = ]8;;ide:help:base::c[1mc[22m]8;;[33m([39mcounty =â€¦
"
"1","[90m 3. [39mdplyr::]8;;ide:help:dplyr::mutate[1mmutate[22m]8;;[38;5;103m([39m., county = ]8;;ide:help:dplyr::recode[1mrecode[22m]8;;[33m([39mcounty, `Tharaka Nithi` = [38;5;28m""Tharaka-Nithi""[39m[33m)[39m[38;5;103m)[39m
"
"1","[90m 4. [39mdplyr::mutate(., indicator_short = case_when(indicator_number == 1 ~ â€¦
"
"1","[90m 5. [39mdplyr::select(., county, indicator_number, indicator, county_target, â€¦
"
"1","[90m 6. [39mdplyr::]8;;ide:help:dplyr::mutate[1mmutate[22m]8;;[38;5;103m([39m., target_unit = ]8;;ide:help:stringr::str_sub[1mstr_sub[22m]8;;[33m([39mtype, start = [38;5;20m19L[39m[33m)[39m[38;5;103m)[39m
"
"1","[90m 7. [39mdplyr::mutate(., indicator_number = parse_number(type), indicator = case_when(stâ€¦
"
"1","[90m 8. [39mtidyr::]8;;ide:help:tidyr::replace_na[1mreplace_na[22m]8;;[38;5;103m([39m., ]8;;ide:help:base::list[1mlist[22m]8;;[33m([39mcounty_target = [38;5;20m0[39m[33m)[39m[38;5;103m)[39m
"
"1","[90m 9. [39mtidyr::pivot_longer(., cols = indicator1_target_people:indicator6_target_people,â€¦
"
"1","[90m10. [39mdplyr::mutate_at(., vars(indicator2_target_schools, indicator2_target_people, â€¦
"
"1","[90m11. [39mdplyr:::manip_at(.tbl, .vars, .funs, enquo(.funs), caller_env(), .include_group_vâ€¦
"
"1","[90m12. [39mdplyr:::tbl_at_syms(.tbl, .vars, .include_group_vars = .include_group_vars, â€¦
"
"1","[90m13. [39mdplyr:::tbl_at_vars(tbl, vars, .include_group_vars = .include_group_vars, â€¦
"
"1","[90m14. [39mdplyr::]8;;ide:help:dplyr::tbl_vars[1mtbl_vars[22m]8;;[38;5;103m([39mtbl[38;5;103m)[39m
"
"1","[90m15. [39mdplyr:::]8;;ide:help:dplyr::new_sel_vars[1mnew_sel_vars[22m]8;;[38;5;103m([39m]8;;ide:help:dplyr::tbl_vars_dispatch[1mtbl_vars_dispatch[22m]8;;[33m([39mx[33m)[39m, ]8;;ide:help:dplyr::group_vars[1mgroup_vars[22m]8;;[33m([39mx[33m)[39m[38;5;103m)[39m
"
"1","[90m16. [39mbase::structure(vars, groups = group_vars, class = c(""dplyr_sel_vars"", â€¦
"
"1","[90m17. [39mdplyr:::]8;;ide:help:dplyr::tbl_vars_dispatch[1mtbl_vars_dispatch[22m]8;;[38;5;103m([39mx[38;5;103m)[39m
"
"1","[90m18. [39mtidyr::separate(., indicator4_target, into = c(""indicator4_target_schools"", â€¦
"
"1","[90m19. [39mtidyr::separate(., indicator2_target, into = c(""indicator2_target_schools"", â€¦
"
"1","[90m20. [39mdplyr::]8;;ide:help:dplyr::slice[1mslice[22m]8;;[38;5;103m([39m., [38;5;20m0[38;5;103m:[38;5;20m23[38;5;103m)[39m
"
"1","[90m21. [39mstats::setNames(., c(""county"", ""county_overall_target"", ""indicator1_target_peoplâ€¦
"
"1","[90m22. [39mdplyr::]8;;ide:help:dplyr::select[1mselect[22m]8;;[38;5;103m([39m., x1, x2, ]8;;ide:help:tidyselect::contains[1mcontains[22m]8;;[33m([39m[38;5;28m""target""[39m[33m)[39m[38;5;103m)[39m
"
"1","[90m23. [39mjanitor::]8;;ide:help:janitor::clean_names[1mclean_names[22m]8;;[38;5;103m([39m.[38;5;103m)[39m
"
"1","[90m24. [39mreadxl::read_excel(""./data/5Ws_2023/Consolidated 5W_ Education_Mar 2023 Report.xlâ€¦
"
"1","[90m25. [39mreadxl:::read_excel_(path = path, sheet = sheet, range = range, col_names = col_naâ€¦
"
"1","[90m26. [39mreadxl:::set_readxl_names(read_fun(path = path, sheet_i = sheet, limits = limits, â€¦
"
"1","[90m27. [39mtibble::]8;;ide:help:tibble::as_tibble[1mas_tibble[22m]8;;[38;5;103m([39ml, .name_repair = .name_repair[38;5;103m)[39m
"
"1","[90m28. [39mtibble:::]8;;ide:help:tibble::as_tibble.list[1mas_tibble.list[22m]8;;[38;5;103m([39ml, .name_repair = .name_repair[38;5;103m)[39m
"
"1","[90m29. [39mtibble:::]8;;ide:help:tibble::lst_to_tibble[1mlst_to_tibble[22m]8;;[38;5;103m([39mx, .rows, .name_repair, ]8;;ide:help:tibble::col_lengths[1mcol_lengths[22m]8;;[33m([39mx[33m)[39m[38;5;103m)[39m
"
"1","[90m30. [39mtibble:::]8;;ide:help:tibble::set_repaired_names[1mset_repaired_names[22m]8;;[38;5;103m([39mx, repair_hint = [38;5;20mTRUE[39m, .name_repair, call = call[38;5;103m)[39m
"
"1","[90m31. [39mtibble:::repaired_names(names2(x), repair_hint, .name_repair = .name_repair, â€¦
"
"1","[90m32. [39mtibble:::subclass_name_repair_errors(name = name, details = details, repair_hint =â€¦
"
"1","[90m33. [39mbase::withCallingHandlers(expr, vctrs_error_names_cannot_be_empty = function(cnâ€¦
"
"1","[90m34. [39mvctrs::]8;;ide:help:vctrs::vec_as_names[1mvec_as_names[22m]8;;[38;5;103m([39mname, repair = .name_repair, quiet = quiet [38;5;103m||[39m [38;5;103m![39m]8;;ide:help:rlang::is_character[1mis_character[22m]8;;[33m([39mâ€¦
"
"1","[90m35. [39mvctrs:::describe_repair(c("""", """", ""Target"", ""Reach \r\n(Jan)"", ""Reach \r\n(Feb)"",â€¦
"
"1","[90m36. [39mrlang::]8;;ide:help:rlang::names_inform_repair[1mnames_inform_repair[22m]8;;[38;5;103m([39morig_names, names[38;5;103m)[39m
"
"1","[90m37. [39mrlang::]8;;ide:help:rlang::inform[1minform[22m]8;;[38;5;103m([39mmessage = message, class = [38;5;28m""rlib_message_name_repair""[38;5;103m)[39m
"
"1","[90m38. [39mbase::withRestarts(muffleMessage = function() NULL, { â€¦
"
"1","[90m39. [39mbase::[1mwithOneRestart[22m[38;5;103m([39mexpr, restarts[33m[[[39m[38;5;20m1L[39m[33m]][39m[38;5;103m)[39m
"
"1","[90m40. [39mbase::[1mdoWithOneRestart[22m[38;5;103m([39m]8;;ide:help:base::return[1mreturn[22m]8;;[33m([39mexpr[33m)[39m, restart[38;5;103m)[39m
"
"1","[90m41. [39mbase::]8;;ide:help:base::signalCondition[1msignalCondition[22m]8;;[38;5;103m([39mcnd[38;5;103m)[39m
"
"1","[90m42. [39mbase::]8;;ide:help:base::conditionMessage[1mconditionMessage[22m]8;;[38;5;103m([39mcond[38;5;103m)[39m
"
"1","[90m43. [39mrlang:::]8;;ide:help:rlang::conditionMessage.rlang_message[1mconditionMessage.rlang_message[22m]8;;[38;5;103m([39mcond[38;5;103m)[39m
"
"1","[90m44. [39mrlang::]8;;ide:help:rlang::cnd_message[1mcnd_message[22m]8;;[38;5;103m([39mc[38;5;103m)[39m
"
"1","[90m45. [39mrlang:::]8;;ide:help:rlang::cnd_message_format[1mcnd_message_format[22m]8;;[38;5;103m([39mcnd, ...[38;5;103m)[39m
"
"1","[90m46. [39mlocal [1mcli_format[22m[38;5;103m([39m[1mglue_escape[22m[33m([39mlines[33m)[39m[38;5;103m)[39m
"
"1","[90m47. [39mrlang:::]8;;ide:help:rlang::.rlang_cli_format[1m.rlang_cli_format[22m]8;;[38;5;103m([39mx, cli::format_message[38;5;103m)[39m
"
"1","[90m48. [39mcli::]8;;ide:help:cli::cli_format[1mcli_format[22m]8;;[38;5;103m([39mx, .envir = ]8;;ide:help:base::emptyenv[1memptyenv[22m]8;;[33m()[39m[38;5;103m)[39m
"
"1","[90m49. [39mcli::cli_fmt((function() { â€¦
"
"1","[90m50. [39mcli:::]8;;ide:help:cli::cli__fmt[1mcli__fmt[22m]8;;[38;5;103m([39mrec, collapse, strip_newline[38;5;103m)[39m
"
"1","[90m51. [39mbase::]8;;ide:help:base::do.call[1mdo.call[22m]8;;[38;5;103m([39mapp[33m[[[39mmsg[38;5;103m$[39mtype[33m]][39m, msg[38;5;103m$[39margs[38;5;103m)[39m
"
"1","[90m52. [39m(function (text, id = NULL, class = NULL) â€¦
"
"1","[90m53. [39mcli:::]8;;ide:help:cli::clii_bullets[1mclii_bullets[22m]8;;[38;5;103m([39mapp, text, id, class[38;5;103m)[39m
"
"1","[90m54. [39mbase::lapply(seq_along(text), function(i) { â€¦
"
"1","[90m55. [39mlocal [1mFUN[22m[38;5;103m([39mX[33m[[[39mi[33m]][39m, ...[38;5;103m)[39m
"
"1","[90m56. [39mapp[38;5;103m$[39m]8;;ide:help:graphics::text[1mtext[22m]8;;[38;5;103m([39mtext[33m[[[39mi[33m]][39m[38;5;103m)[39m
"
"1","[90m57. [39mcli:::]8;;ide:help:cli::clii_text[1mclii_text[22m]8;;[38;5;103m([39mapp, text[38;5;103m)[39m
"
"1","[90m58. [39mapp[38;5;103m$[39m[1mxtext[22m[38;5;103m([39mtext[38;5;103m)[39m
"
"1","[90m59. [39mcli:::clii__xtext(app, text, .list = .list, indent = indent, padding = padding,â€¦
"
"1","[90m60. [39mcli::]8;;ide:help:cli::ansi_strwrap[1mansi_strwrap[22m]8;;[38;5;103m([39mtext, exdent = exdent, width = app[38;5;103m$[39m[1mget_width[22m[33m([39mextra = paddingâ€¦
"
"1","[90m61. [39mcli:::]8;;ide:help:cli::throw[1mthrow[22m]8;;[38;5;103m([39m]8;;ide:help:cli::cli_error[1mcli_error[22m]8;;[33m([39m[38;5;28m""Internal error in {.fun cli::ansi_strwrap}""[39m[33m)[39m[38;5;103m)[39m
"
